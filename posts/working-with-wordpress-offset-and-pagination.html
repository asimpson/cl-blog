<p>Yesterday I was working on a project (that will hopefully be released soon) that displays the most recent post differently than the rest of the posts on the page. This project also calls for pagination-like behavior on the second set of posts, while the feature post (most recent post) should be static and have no pagination.</p>

<p>I initially tried to use the <a href="http://codex.wordpress.org/Class_Reference/WP_Query#Offset_Parameter">offset parameter</a> for the second post query to remove the most recent post from that loop. This however didn't seem to work with the pagination.</p>

<p>Turns out Wordpress' offset and pagination features collide, as the <a href="http://codex.wordpress.org/Class_Reference/WP_Query#Offset_Parameter">note says</a> (always read those little notes!),</p>

<blockquote>
  <p><strong>Note:</strong> Setting offset parameter will ignore the paged parameter.</p>
</blockquote>

<p>I think the pagination feature uses offset internally which is why an explicit offset breaks the pagination.</p>

<p>Anyway, after hunting around a bit to see if anyone had a quick fix for this, I stumbled upon <a href="http://wordpress.org/support/topic/query_posts-offset-and-pagination#post-1245582">a post</a> which had a quite complex question and an equally complex answer. Yet, it confirmed what I thought I'd have to do.</p>

<p>I simplified the solution quite a bit for my particular scenario, here is my code (note I am using verbose variable names here to help clarify):</p>

<pre><code class="language-php">
$number_of_feature_posts = 1;
$number_of_secondary_posts = 3;
$paged = (get_query_var('paged')) ? get_query_var('paged') : 1;
$how_many_secondary_posts_past = ($number_of_secondary_posts * ($paged - 1));
$off = $number_of_feature_posts + (($paged > 1) ? $how_many_secondary_posts_past : 0);
</code>
</pre>

<p>I then used a simple <em><code>WP_Query</code> loop for the first loop, the featured (most recent) post, and then just used the normal <code>query_posts</code></em> with the additional arguments from the above snippet, for the second loop</p>

<pre>
<code class="language-php">
query_posts( "posts_per_page=$number_of_secondary_posts&offset=$off&showposts=$number_of_secondary_posts" );
</code>
</pre>

<p>This basically keeps the offset <em>dynamic</em> and <em>relative</em> to the page we are on. Hope you find it useful.</p>
